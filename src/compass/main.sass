@import "normalize"
@import "vars-typeplate"
@import "typeplate"
@import "bourbon/bourbon"

$menu-width                : 220px
$menu-visibility-threshold : 1000px
$max-3d-page-width         : 950px

$min-space-left-right : 36px * 2 // menu and close buttons

$resize-resolution-num-steps : 5
$resize-resolution-begin     : $max-3d-page-width + $menu-width + $min-space-left-right
$resize-resolution-range     : $resize-resolution-begin - $menu-visibility-threshold
$resize-resolution-step      : $resize-resolution-range / $resize-resolution-num-steps

$nomenu-resolution-num-steps : 20
$nomenu-resolution-begin     : $menu-visibility-threshold
$nomenu-resolution-range     : $nomenu-resolution-begin - 100px
$nomenu-resolution-step      : $nomenu-resolution-range / $nomenu-resolution-num-steps



/* fontawesome */
[class*="fontawesome-"]
	span 
		display: none
	
[class*="fontawesome-"]:before
	font-family: 'FontAwesome', sans-serif

body, html
	overflow-x: hidden
	overflow-y: auto

body
	background-color: #ffffff
	padding: 0
	margin: 0
	// overflow: hidden
	touch-action: auto
	-ms-touch-action: auto


h1, h2, h3, h4, h5, h6
	font-weight: 300
	// letter-spacing: -0.01em
	// color: #1f8dd6

hr
	color: #eee
	background-color: #eee
	border: none
	height: 3px
	margin-bottom: 1.5em

// h1 + h2
// 	font-weight: 300


a
	text-decoration: none
	color: #1f8dd6
	font-weight: 700
	&:visited
		color: #1f8dd6
h1
	a
		font-weight: 300

blockquote
	border-left: 10px solid #999
	margin-left: 0px
	padding-left: 2em





// shared main sections atributes, both for threejs and plain html representations 
main
	background-color: #fafafa
	// border-top: 2.5em solid #f0f0f0
	// border-bottom: 2.5em solid #f0f0f0
	// border-left: 0.3em solid #f0f0f0
	// border-right: 0.3em solid #f0f0f0
	padding: 3em
	padding-top: 3.5em
	display: block
	position: relative
	// overflow-y: auto



	

	.banner
		position: absolute
		top: 0
		left: 0

	.videoWrapper
		position: relative
		padding-bottom: 56.25% /* 16:9 */
		padding-top: 25px
		height: 0

		iframe, object
			position: absolute
			top: 0
			left: 0
			width: 100%
			height: 100%

	.videoCaption
		padding: 1em
		background-color: #eee
		p 
			// text-align: right
			width: 100%
			font-style: italic
			font-weight: 400
			+type-scale($epsilon,$font-base,rem)
			margin-bottom: 0


	time
		display: block
		width: 100%
		// text-align: right
		font-weight: 300
		font-variant: italic
		color: #8e8e8e


	article
		h1 + h2
			border-bottom: 3px solid #eee
			margin-bottom: 0
			padding-bottom: 0.7em

		* img
			+box-sizing(border-box)
			// border : 1px solid #eee
			display: block
			margin-top: 2em
			margin-bottom: 2em
			width: auto
			border: 1px solid #ccc
			padding: 0.5em
			background: #fff
			border-radius: 5px
			-moz-border-radius: 5px
			-webkit-border-radius: 5px
			-khtml-border-radius: 5px	
			max-width: 100%
			min-width: 100px
			height: auto

	
// html specific main sections attributes
.htmlContent
	+position(relative, 0px 0 0 0px)
	display: block
	// z-index: 2
	width: 100%
	// overflow-y: auto

	main
		position: relative
		// left: $menu-width
		// z-index: 2
		top: 0
		bottom: 0
		// height: 100%
		margin-left: $menu-width

		@media screen and (min-width: $menu-visibility-threshold)
			margin-left: $menu-width
		@media screen and (max-width: $menu-visibility-threshold)
			margin-left: 0px		
		@media print
			margin-left: 0px

		+transition (margin-left 1.0s ease-in-out)

// threejs specific main sections attributes
.javascriptContent
	+position(absolute, 0px 0 0 0px)
	overflow: hidden
	// z-index: 1
	left: $menu-width
	@media screen and (min-width: $menu-visibility-threshold)
		left: $menu-width
	@media screen and (max-width: $menu-visibility-threshold)
		left: 0px


	main
		background-color: rgba(250,250,250,0.9)
		// border-top: 2.5em solid rgba(240,240,240,0.9)
		// border-bottom: 2.5em solid rgba(240,240,240,0.9)
		// border-left: 0.3em solid rgba(240,240,240,0.9)
		// border-right: 0.3em solid rgba(240,240,240,0.9)	

	+transition (left 1.0s ease-in-out)


	.object3DContainer
		
		height : 100%
		overflow-y: auto
		+transition (width 0.5s ease-in-out)

		width: $max-3d-page-width

		// resolution is larger that our layout
		@media screen and (min-width: $resize-resolution-begin)
			width: $max-3d-page-width

		// when menu is on screen
		@for $i from 1 through $resize-resolution-num-steps
			$step : $resize-resolution-step * $i
			$startwidth : $resize-resolution-begin - $step
			$endwidth : $startwidth + $resize-resolution-step
			@media screen and (max-width: $endwidth) and (min-width: $startwidth)
				width: $max-3d-page-width - $step

		// when menu is not on screen
		@for $i from 1 through $nomenu-resolution-num-steps
			$step : $nomenu-resolution-step * $i
			$startwidth : $nomenu-resolution-begin - $step
			$endwidth : $startwidth + $nomenu-resolution-step
			@media screen and (max-width: $endwidth) and (min-width: $startwidth)
				width: ( $nomenu-resolution-begin - $step ) -$min-space-left-right

			



// Global Menu
.menu

	position: fixed
	top: 0
	bottom: 0
	margin: 0
	padding: 0
	background-color: #191818
	overflow: hidden
	overflow-y: auto
	z-index : 1
	// text-shadow: 0 1px 0 #000
	width: $menu-width
	+transition (left 1.0s ease-in-out)

	left: 0
	@media screen and (min-width: $menu-visibility-threshold)
		left: 0
	@media screen and (max-width: $menu-visibility-threshold)
		left: -$menu-width
	@media print
		display: none

	&.force-show
		left: 0px


	.myName, .mySurname
		display: block
		// width: 100%

		a
			font-family: "Open Sans Condensed", sans-serif
			word-wrap: normal
			word-break: normal
			color: #bfbfbf
			font-weight: 300
			// @media screen and (min-width: $menu-visibility-threshold)
			+type-scale($beta,$font-base,rem)
			// @media screen and (max-width: $menu-visibility-threshold)
			// 	+type-scale($epsilon,$font-base,rem)				
			display: block
			// text-transform: uppercase
			line-height: 1em
			letter-spacing: 0.15em
			padding: 0.35em

			&:visited
				color: #bfbfbf



	.myName
		a
			padding-bottom: 0em

	.mySurname
		a
			border-bottom: 1px solid #333
			padding-top: 0em



	// .socialMenu
	// 	text-align: center

	nav
		padding: 0
		margin: 0	

		h1
			// @media screen and (min-width: $menu-visibility-threshold)
			+type-scale($epsilon,$font-base,rem)
			// @media screen and (max-width: $menu-visibility-threshold)
			// 	+type-scale($zeta,$font-base,rem)	
			padding: 1em
			padding-left: 0.5em
			display: block
			font-weight: 400
			// &:hover
			// 	color: #999		
			color: #444
			margin-bottom: 0

		[class*="fontawesome-"]
			padding: 0.65em
			// margin-right: 0.65em
			display: inline-block
			// @media screen and (min-width: $menu-visibility-threshold)
			+type-scale($delta,$font-base,rem)
			// @media screen and (max-width: $menu-visibility-threshold)
			// 	+type-scale($epsilon,$font-base,rem)
			font-weight: normal
			color: #333

			&:hover
				color: #999

		ul	
			padding: 0
			margin: 0
			li
				list-style: none


				&:hover, &.hover
					a
						background-color: #333
						// +transform(rotateX(360deg) translateZ(1px))
				

				a
					display: block
					padding: 1em
					color: #999
					font-weight: 300
					// @media screen and (min-width: $menu-visibility-threshold)
					+type-scale(14,$font-base,rem)
					// @media screen and (max-width: $menu-visibility-threshold)
					// 	+type-scale($zeta0,$font-base,rem)

					+transition(all 0.2s ease-in-out)
					// +transition(-webkit-transform 0.3s ease-in-out)
					// +transition(-moz-transform 0.3s ease-in-out)
					// +transition(-o-transform 0.3s ease-in-out)
					// +transition(transform 0.3s ease-in-out)

					&:visited
						color: #999




					&.selected
						background-color: #1f8dd6
						color: #fff


#lean_overlay

	position: absolute
	z-index: 100
	top: 0px
	left: 0px
	height: 100%
	width: 100%
	background: #000
	display: none


#about
	width: 70%
	max-width: 450px 
	padding: 3em
	background: #FFF
	display: none
	border-top: 3em solid #f0f0f0
	border-bottom: 3em solid #f0f0f0
	border-left: 0.3em solid #f0f0f0
	border-right: 0.3em solid #f0f0f0
	+box-sizing(border-box)
	// border-radius: 5px
	// -moz-border-radius: 5px
	// -webkit-border-radius: 5px
	// box-shadow: 0px 0px 4px rgba(0,0,0,0.7)
	// -webkit-box-shadow: 0 0 4px rgba(0,0,0,0.7)
	// -moz-box-shadow: 0 0px 4px rgba(0,0,0,0.7)


#no-webgl-warning
	position: relative
	top: 0
	margin: 0 auto
	z-index: 100
	width: 100%
	-moz-border-radius: 5px
	-webkit-border-radius: 5px
	padding: 1em
	text-align: center
	background-color: #ffffbf	
	// +type-scale($delta,$font-base,rem)
	// margin-top: 2em
	+box-sizing(border-box)
	h4
		font-weight: 600
	p
		margin: auto auto 0.2em


.no-webgl-warning-button
	position: fixed
	top: 1px
	right: 1px
	width: 35px
	height: 35px
	+type-scale($gamma,$font-base,rem)
	cursor: pointer
	text-align: center
	line-height: 1.2em
	border-radius: 2px
	-moz-border-radius: 2px
	-webkit-border-radius: 2px
	-khtml-border-radius: 2px	
	color: #444

	&:visited
		color: #444

	&:before
		margin-left: -2px

	background-color: rgba(150,150,150,0.2)//#191818
	z-index: 100
	// +transition (color 0.3s ease-in-out)
	// +transition (background-color 0.3s ease-in-out)
	+transition (all 1.0s ease-in-out)
	
	&:hover
		// background-color: #333
		color: #000
		background-color: rgba(150,150,150,1)//#191818

.show-menu
	position: fixed
	top: 1px
	width: 35px
	height: 35px
	+type-scale($gamma,$font-base,rem)
	cursor: pointer
	text-align: center
	line-height: 1.2em
	border-radius: 2px
	-moz-border-radius: 2px
	-webkit-border-radius: 2px
	-khtml-border-radius: 2px	

	&:before
		margin-left: -2px

	background-color: rgba(150,150,150,0.2)//#191818
	z-index: 100
	// +transition (color 0.3s ease-in-out)
	// +transition (background-color 0.3s ease-in-out)
	+transition (all 1.0s ease-in-out)
	
	display: none
		
	left: $menu-width+1
	@media screen and (min-width: $menu-visibility-threshold)
		display: none
		left: $menu-width+1
	@media screen and (max-width: $menu-visibility-threshold)
		display: block
		left: 1px
	&:hover
		// background-color: #333
		color: #000
		background-color: rgba(150,150,150,1)//#191818		

	&.force-hide
		left: $menu-width+1

.close-page
	position: fixed
	top: 1px
	right: 1px
	z-index: 100
	+type-scale($gamma,$font-base,rem)
	+transition (all 0.3s ease-in-out)
	background-color: rgba(150,150,150,0.2)//#191818
	width: 35px
	height: 35px
	cursor: pointer
	text-align: center
	line-height: 1.2em
	display: none
	border-radius: 2px
	-moz-border-radius: 2px
	-webkit-border-radius: 2px
	-khtml-border-radius: 2px		

	// &:before
	// 	margin-left: -2px	

	&:hover
		color: #000
		background-color: rgba(150,150,150,1)//#191818		
